# 🌍 FavManager 国际化测试指南

## 📋 测试准备

### 1. 检查文件结构
确保以下文件已正确创建：
```
favmanager/
├── _locales/
│   ├── en/
│   │   └── messages.json
│   └── zh_CN/
│       └── messages.json
├── manifest.json (已更新支持i18n)
├── src/
│   ├── core/
│   │   └── i18n.js (新建)
│   ├── popup/
│   │   ├── popup.html (已更新)
│   │   └── popup.js (已更新)
│   └── background/
│       └── background.js (已更新)
└── test-i18n.html (测试页面)
```

## 🧪 测试方法

### 方法1：Chrome扩展测试（推荐）
1. 打开Chrome浏览器
2. 进入扩展管理页面 (`chrome://extensions/`)
3. 开启"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择favmanager文件夹
6. 测试不同语言环境：

#### 测试英语环境：
- Chrome设置 → 高级 → 语言 → 添加英语并设为首选
- 重新加载扩展
- 点击扩展图标查看popup

#### 测试中文环境：  
- Chrome设置 → 高级 → 语言 → 添加中文(简体)并设为首选
- 重新加载扩展
- 点击扩展图标查看popup

### 方法2：独立页面测试
1. 在浏览器中打开 `test-i18n.html`
2. 页面会自动根据浏览器语言切换
3. 点击各种测试按钮验证功能

## ✅ 测试检查点

### 基础功能测试
- [ ] manifest.json中的name和description正确显示
- [ ] popup.html中所有文本已翻译
- [ ] 按钮文字根据语言正确显示
- [ ] placeholder文本正确翻译
- [ ] 错误消息正确翻译

### 语言切换测试
- [ ] 英语环境下显示英文
- [ ] 中文环境下显示中文  
- [ ] 不支持语言时回退到英语
- [ ] 右键菜单文本正确翻译

### 功能完整性测试
- [ ] 添加收藏功能正常
- [ ] 编辑收藏功能正常
- [ ] 删除收藏功能正常
- [ ] 星标功能正常
- [ ] 所有提示消息显示正确

## 🐛 常见问题

### Q1: 扩展加载失败
**解决方案：** 检查manifest.json语法，确保`default_locale`设置为"en"

### Q2: 翻译不生效
**解决方案：** 
1. 检查messages.json文件格式
2. 确保i18n.js在其他脚本之前加载
3. 检查控制台错误信息

### Q3: 某些文本未翻译
**解决方案：**
1. 检查HTML元素是否有`data-i18n`属性
2. 确保messages.json中包含对应的key
3. 检查JavaScript中是否使用了`i18n.t()`函数

### Q4: 参数化消息不工作
**解决方案：**
1. 检查messages.json中placeholders设置
2. 确保JavaScript中传递了正确参数
3. 参考Chrome i18n API文档格式

## 📊 测试结果记录

### 测试环境
- [ ] Chrome (版本: _______)
- [ ] Edge (版本: _______)
- [ ] 系统语言: _______

### 英语环境测试
- [ ] 扩展名称显示: ______
- [ ] 弹窗界面翻译: ______
- [ ] 右键菜单翻译: ______
- [ ] 错误消息翻译: ______

### 中文环境测试  
- [ ] 扩展名称显示: ______
- [ ] 弹窗界面翻译: ______
- [ ] 右键菜单翻译: ______
- [ ] 错误消息翻译: ______

## 🔧 调试技巧

### 1. 查看当前语言
```javascript
console.log('当前语言:', chrome.i18n.getUILanguage());
```

### 2. 测试翻译key
```javascript
console.log('翻译测试:', chrome.i18n.getMessage('common_save'));
```

### 3. 检查翻译文件加载
打开Chrome DevTools → Application → Local Storage 检查数据

### 4. 强制语言环境
在Chrome启动参数中添加：`--lang=en` 或 `--lang=zh-CN`

## 📝 测试报告模板

**测试时间：** _______
**测试人员：** _______
**浏览器版本：** _______

**功能测试结果：**
- 基础翻译: ✅/❌
- 动态消息: ✅/❌  
- 参数消息: ✅/❌
- 语言检测: ✅/❌
- 回退机制: ✅/❌

**发现问题：**
1. _______
2. _______

**建议改进：**
1. _______
2. _______

---

💡 **提示：** 测试完成后，可以根据用户反馈考虑添加更多语言支持！